---
<% if (projectPhpVersion < 7.0) { -%>
version: "< 0.4.0"
<% } else { -%>
version: ">= 0.4.0"
<% } -%>
name: <%= projectName %>
provider: virtualbox
memory: 2048
cpus: 1
ip: "<%= homesteadIp %>"
hostname: <%= projectName.replace(/[^a-zA-Z0-9-.]+/g, '-').replace(/^[-.]/g, '') %>.app
hostaliases: <% if (controlPhpMyAdmin) { -%>

  - phpmyadmin-<%= projectName.replace(/[^a-zA-Z0-9-.]+/g, '-').replace(/^[-.]/g, '') %>.app<% } -%>

authorize: ~/.ssh/id_rsa.pub

keys:
  - ~/.ssh/id_rsa

folders:
  - map: "./"
    to: "/home/vagrant/<%= projectName %>"

sites:
  - map: <%= projectName %>.app
    to: "/home/vagrant/<%= projectName %>/<%= dirPublic %>"
<% if (controlPhpMyAdmin) { -%>
  - map: phpmyadmin-<%= projectName %>.app
    to: "/var/www/html/phpmyadmin"
<% } -%>

databases:
  - <%= projectName %>

variables:
  - key: APP_ENV
    value: development

# blackfire:
#  - id: foo
#    token: bar
#    client-id: foo
#    client-token: bar

# ports:
#  - send: 93000
#    to: 9300
#  - send: 7777
#    to: 777
#    protocol: udp
